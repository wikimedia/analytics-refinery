# Extraction phase for pageview from webrequest

This job is responsible for extracting pageview and
redirect-to-pageview data from the refined webrequest table,
computing actor-signatures and joining it with the
actor_label_hourly table to flag some user traffic as automated.
No aggregation is performed, and most dimensions from webrequest
are kept.
The data generated by this job is to be used instead of reading
webrequest when in need for pageview data with webrequest fields
(for instance unique-devices or clickstream jobs).

Output is appended into (year, month, day, hour) partitions
in /wmf/data/wmf/pageview/actor.

# Outline

* ```coordinator.properties``` is used to define parameters to the
  aggregation pipeline.
* ```coordinator.xml``` injects the aggregation workflow for each dataset.
* ```workflow.xml```
  * Runs a hive query to aggregate from webrequest into pageview

Note that this job uses the webrequest-refined dataset and the
predictions-actor-label dataset.  If a webrequest refinement job
or an actor-label prediction job does not have the _SUCCESS
done-flag in the directory, the data for that hour will not be
computed until it does.
